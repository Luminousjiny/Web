# 📑 HDFS(Hadoop Distributed File System)

- 클러스터에서 실행되는 매우 큰 파일을 처리하도록 설계된 파일 시스템
- 한번 쓰고 여러번 읽는 것이 목적
- 저사양의 서버를 이용하여 스토리지 구성 가능
- 자바기반 파일 시스템 → JVM에서 동작

## 안전성을 위한 전략

- **장애복구** : 데이터 중복저장
- **데이터 무결성(일관성)** : 한번 저장한 데이터는 read ONLY

## HDFS 아키텍처

### ☑ **블록구조** 파일 시스템

- 대용량 파일을 블록으로 나누어 관리
- 블록크기 기본적 64MB
- 설정을 통해 변경 가능
- 장점 : 디스크 시트타임 감소, 메타데이터 크기 감소 ( 메타데이터는 네임노드의 힙 메모리에 저장)

![image](https://user-images.githubusercontent.com/72757829/107148805-8c04c380-6998-11eb-926a-fcbc250c0c06.png)

### ☑ 마스터-슬레이브(Master-Slave) 구조

✔ **네임노드(관리자)** 

- 마스터 서버 역할
- 파일 시스템의 전반적인 부분
- 네임노드가 고장나면  전체 시스템 작동 X

✔ **데이터 노드(작업자)**

- 주로 파일 저장, 분산처리와 같이 실제적 일을 수행

### ☑ NN(네임노드)의 역할

1. **메타데이터 관리**
    - 메타데이터 = 파일시스템 이미지 + 파일에 대한 블록매핑 정보 → 빠른 파일 처리를 위해 메모리 관리
2. **데이터 노드 감시**
    - 데이터 노드는 네임노드에게 하트비트 메세지 주기적 전송 → 수신이 없다면 장애발생으로 간주
3. **클라이언트 요청 처리**
    - 클라이언트는 HDFS에 파일 IO를 수행할 때 NN의 허가를 받음 → 유효성 검사
